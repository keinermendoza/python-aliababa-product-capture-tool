<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{request_for_quotation.title}}</title>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.0.1/socket.io.js" integrity="sha512-q/dWJ3kcmjBLU4Qc47E4A9kTB4m3wuTY7vkFJDTZKjTs8jhyGQnaUrxa0Ytd0ssMZhbNua9hE+E7Qv1j+DyZwA==" crossorigin="anonymous"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
    <style>
        body { padding: 2rem}
    * { box-sizing: border-box}
    </style>
</head>
<body>
    <p>
        <a href="{{url_for('list_requests_for_quotations')}}">Come back to request for quotations list</a>
    </p>
        <div class="card shadow p-4 mx-auto" style="max-width:60rem;">
            <div class="d-flex gap-3">
                <p class="btn" id="btn-edit">Edit</p>
                <p class="btn" id="btn-see">See</p>
            </div>
            <article id="see-article">
                <p class="fs-2">{{request_for_quotation.title}}</p>
                <p class="fs-3">{{request_for_quotation.quantity}} <span class="fs-5">pcs</span></p>
                {% if request_for_quotation.product_image_url %}
                    <img width="600" height="auto" src="{{request_for_quotation.product_image_url}}" alt="">
                {% else %}
                <p>No image</p>
                {% endif %}

                {% if request_for_quotation.ref_product_url %}
                <p>See Product Reference <a href="{{request_for_quotation.ref_product_url}}">here</a></p>
                {% endif %}

                <p style="white-space: pre-wrap;">{{request_for_quotation.description}}</p>
            </article>

            <form id="edit-form" method="post">
                <p class="fs-2">{{request_for_quotation.title}}</p>
                <div class="my-2" >
                    <label class="form-label" for="title">Request for Quotation Title</label>
                    <input value="{{request_for_quotation.title}}" autofocus class="form-control" required id="title" type="text" name="title">
                </div>
                <div class="my-2">
                    <label class="form-label" for="quantity">Request for Quotation quantity</label>
                    <input value="{{request_for_quotation.quantity}}" class="form-control" required id="quantity" type="number" name="quantity">
                </div>
                <div class="my-2">
                    <label class="form-label" for="ref_product_url">Reference product URL</label>
                    <input value="{{request_for_quotation.ref_product_url}}" class="form-control" required id="ref_product_url" type="text" name="ref_product_url">
                </div>
                <div class="my-2">
                    <label class="form-label" for="product_image_url">Product image URL</label>
                    <input value="{{request_for_quotation.product_image_url}}" class="form-control" required id="product_image_url" type="text" name="product_image_url">
                </div>
                <div class="mb-3 form-check">
                    <input name="is_discarted"  type="checkbox" class="form-check-input text-musted" id="is_discarted" autocomplete="off" {% if request_for_quotation.is_discarted %}checked{% endif %}>
                    <label class="form-check-label" for="is_discarted">Is discarted</label>
                </div>  
                <div class="my-2">
                    <label class="form-label" for="description">Description</label>
                    <textarea rows="6" class="form-control" name="description" id="description">{{request_for_quotation.description}}</textarea>
                </div>

                <button class="mt-2 btn btn-primary">Save</button>
            </form>
        </div>
        <script>
            const btnSee = document.getElementById("btn-see");
            const btnEdit = document.getElementById("btn-edit");
            const article = document.getElementById("see-article");
            const form = document.getElementById("edit-form");

            function hideFormShowArticle() {
                form.style.display = "none";
                article.style.display = "block";
            }
            function hideArticleShowForm() {
                form.style.display = "block";
                article.style.display = "none";
            }
            
            btnSee.onclick = hideFormShowArticle; 
            btnEdit.onclick = hideArticleShowForm;

            hideArticleShowForm();
        </script>
    </body>
</html>